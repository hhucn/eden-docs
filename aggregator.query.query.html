<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>aggregator.query.query documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Aggregator</span> <span class="project-version">0.2</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="01_getting_started.html"><div class="inner"><span>A1. Getting Started with EDEN</span></div></a></li><li class="depth-1 "><a href="02_using_own_dbas.html"><div class="inner"><span>A2. Using Your Own D-BAS Instance</span></div></a></li><li class="depth-1 "><a href="03_troubleshooting.html"><div class="inner"><span>A3. Troubleshooting</span></div></a></li><li class="depth-1 "><a href="b01_modular_design.html"><div class="inner"><span>B1. Modular Components of EDEN</span></div></a></li><li class="depth-1 "><a href="c01_replacing_modules.html"><div class="inner"><span>C1. Replacing Modules</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>aggregator</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></div></li><li class="depth-3"><a href="aggregator.api.routes.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>routes</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>broker</span></div></div></li><li class="depth-3 branch"><a href="aggregator.broker.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-3 branch"><a href="aggregator.broker.connector.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>connector</span></div></a></li><li class="depth-3 branch"><a href="aggregator.broker.publish.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>publish</span></div></a></li><li class="depth-3"><a href="aggregator.broker.subscriber.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>subscriber</span></div></a></li><li class="depth-2 branch"><a href="aggregator.config.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-2 branch"><a href="aggregator.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>graphql</span></div></div></li><li class="depth-3"><a href="aggregator.graphql.dbas-connector.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dbas-connector</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>query</span></div></div></li><li class="depth-3 branch"><a href="aggregator.query.cache.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cache</span></div></a></li><li class="depth-3 branch"><a href="aggregator.query.db.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>db</span></div></a></li><li class="depth-3 branch current"><a href="aggregator.query.query.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>query</span></div></a></li><li class="depth-3 branch"><a href="aggregator.query.retriever.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>retriever</span></div></a></li><li class="depth-3 branch"><a href="aggregator.query.update.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>update</span></div></a></li><li class="depth-3"><a href="aggregator.query.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -207px;"><span class="top" style="height: 216px;"></span><span class="bottom"></span></span><span>search</span></div></div></li><li class="depth-3"><a href="aggregator.search.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="aggregator.specs.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></div></li><li class="depth-3 branch"><a href="aggregator.utils.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-3"><a href="aggregator.utils.pg-listener.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pg-listener</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="aggregator.query.query.html#var-all-local-links"><div class="inner"><span>all-local-links</span></div></a></li><li class="depth-1"><a href="aggregator.query.query.html#var-all-local-statements"><div class="inner"><span>all-local-statements</span></div></a></li><li class="depth-1"><a href="aggregator.query.query.html#var-all-remote-links"><div class="inner"><span>all-remote-links</span></div></a></li><li class="depth-1"><a href="aggregator.query.query.html#var-all-remote-statements"><div class="inner"><span>all-remote-statements</span></div></a></li><li class="depth-1"><a href="aggregator.query.query.html#var-check-db"><div class="inner"><span>check-db</span></div></a></li><li class="depth-1"><a href="aggregator.query.query.html#var-exact-statement"><div class="inner"><span>exact-statement</span></div></a></li><li class="depth-1"><a href="aggregator.query.query.html#var-get-data"><div class="inner"><span>get-data</span></div></a></li><li class="depth-1"><a href="aggregator.query.query.html#var-links-by-target"><div class="inner"><span>links-by-target</span></div></a></li><li class="depth-1"><a href="aggregator.query.query.html#var-links-to"><div class="inner"><span>links-to</span></div></a></li><li class="depth-1"><a href="aggregator.query.query.html#var-local-undercuts"><div class="inner"><span>local-undercuts</span></div></a></li><li class="depth-1"><a href="aggregator.query.query.html#var-remote-starter-set"><div class="inner"><span>remote-starter-set</span></div></a></li><li class="depth-1"><a href="aggregator.query.query.html#var-retrieve-exact-statement"><div class="inner"><span>retrieve-exact-statement</span></div></a></li><li class="depth-1"><a href="aggregator.query.query.html#var-retrieve-link"><div class="inner"><span>retrieve-link</span></div></a></li><li class="depth-1"><a href="aggregator.query.query.html#var-retrieve-remote"><div class="inner"><span>retrieve-remote</span></div></a></li><li class="depth-1"><a href="aggregator.query.query.html#var-retrieve-undercuts"><div class="inner"><span>retrieve-undercuts</span></div></a></li><li class="depth-1"><a href="aggregator.query.query.html#var-starter-set"><div class="inner"><span>starter-set</span></div></a></li><li class="depth-1"><a href="aggregator.query.query.html#var-statements-contain"><div class="inner"><span>statements-contain</span></div></a></li><li class="depth-1"><a href="aggregator.query.query.html#var-tiered-retrieval"><div class="inner"><span>tiered-retrieval</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">aggregator.query.query</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-all-local-links"><h3>all-local-links</h3><div class="usage"><code>(all-local-links)</code></div><div class="doc"><div class="markdown"><p>Retrieve all locally saved statements belonging to the aggregator.</p></div></div></div><div class="public anchor" id="var-all-local-statements"><h3>all-local-statements</h3><div class="usage"><code>(all-local-statements)</code></div><div class="doc"><div class="markdown"><p>Retrieve all locally saved statements belonging to the aggregator.</p></div></div></div><div class="public anchor" id="var-all-remote-links"><h3>all-remote-links</h3><div class="usage"><code>(all-remote-links)</code><code>(all-remote-links aggregator)</code></div><div class="doc"><div class="markdown"><p>Retrieve all links from a remote aggregator.</p></div></div></div><div class="public anchor" id="var-all-remote-statements"><h3>all-remote-statements</h3><div class="usage"><code>(all-remote-statements)</code><code>(all-remote-statements aggregator)</code></div><div class="doc"><div class="markdown"><p>Retrieve all statements from a remote aggregator.</p></div></div></div><div class="public anchor" id="var-check-db"><h3>check-db</h3><div class="usage"><code>(check-db uri)</code><code>(check-db uri {:keys [opts]})</code></div><div class="doc"><div class="markdown"><p>Check the database for an entity and update cache after item is found.</p></div></div></div><div class="public anchor" id="var-exact-statement"><h3>exact-statement</h3><div class="usage"><code>(exact-statement aggregate-id entity-id version)</code></div><div class="doc"><div class="markdown"><p>Return the exact statement from cache or db</p></div></div></div><div class="public anchor" id="var-get-data"><h3>get-data</h3><div class="usage"><code>(get-data request-url)</code><code>(get-data request-url query-params)</code></div><div class="doc"><div class="markdown"><p>Get data from a remote aggregator.</p></div></div></div><div class="public anchor" id="var-links-by-target"><h3>links-by-target</h3><div class="usage"><code>(links-by-target aggregate-id entity-id version)</code></div><div class="doc"><div class="markdown"><p>Retrieve all local links in db pointing to the target statement.</p></div></div></div><div class="public anchor" id="var-links-to"><h3>links-to</h3><div class="usage"><code>(links-to aggregate-id entity-id version)</code></div><div class="doc"><div class="markdown"><p>Retrieve all links pointing to provided statement. (From the statements aggregator)</p></div></div></div><div class="public anchor" id="var-local-undercuts"><h3>local-undercuts</h3><div class="usage"><code>(local-undercuts aggregate-id entity-id)</code></div><div class="doc"><div class="markdown"><p>Retrieve all links from the db that undercut the link passed as argument.</p></div></div></div><div class="public anchor" id="var-remote-starter-set"><h3>remote-starter-set</h3><div class="usage"><code>(remote-starter-set)</code><code>(remote-starter-set aggregator)</code></div><div class="doc"><div class="markdown"><p>Retrieve remote starter sets and put them into the cache and db.</p></div></div></div><div class="public anchor" id="var-retrieve-exact-statement"><h3>retrieve-exact-statement</h3><div class="usage"><code>(retrieve-exact-statement aggregate entity version)</code></div><div class="doc"><div class="markdown"><p>Retrieves an exact statement from cache / db / a remote aggregator.</p></div></div></div><div class="public anchor" id="var-retrieve-link"><h3>retrieve-link</h3><div class="usage"><code>(retrieve-link aggregate-id entity-id version)</code></div><div class="doc"><div class="markdown"><p>Retrieve a link from cache or db. Returns empty vector if no such link can be found.</p></div></div></div><div class="public anchor" id="var-retrieve-remote"><h3>retrieve-remote</h3><div class="usage"><code>(retrieve-remote uri)</code><code>(retrieve-remote aggregate-id entity-id)</code></div><div class="doc"><div class="markdown"><p>Try to retrieve a statement from a remote aggregator. The host part is treated as the webhost.</p></div></div></div><div class="public anchor" id="var-retrieve-undercuts"><h3>retrieve-undercuts</h3><div class="usage"><code>(retrieve-undercuts aggregate-id entity-id)</code></div><div class="doc"><div class="markdown"><p>Retrieve a (possibly remote) list of undercuts. The argument is the link being undercut.</p></div></div></div><div class="public anchor" id="var-starter-set"><h3>starter-set</h3><div class="usage"><code>(starter-set)</code></div><div class="doc"><div class="markdown"><p>Retrieve a set of starting arguments, which can be used by remote aggregators to bootstrap the connection. This particular implementation just takes a random set of arguments from the cache or database.</p></div></div></div><div class="public anchor" id="var-statements-contain"><h3>statements-contain</h3><div class="usage"><code>(statements-contain query)</code></div><div class="doc"><div class="markdown"><p>Retrieve all statements where the content.content-string contains the <code>query</code></p></div></div></div><div class="public anchor" id="var-tiered-retrieval"><h3>tiered-retrieval</h3><div class="usage"><code>(tiered-retrieval aggregate-id entity-id)</code><code>(tiered-retrieval aggregate-id entity-id options)</code></div><div class="doc"><div class="markdown"><p>Check whether the Cache contains the desired entity. If not delegate to DB and remote acquisition.</p></div></div></div></div></body></html>